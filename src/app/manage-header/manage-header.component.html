<mat-toolbar class="header">
  <button class="header__hamburger-menu" mat-icon-button (click)="toggle()">
    <mat-icon>menu</mat-icon>
  </button>

  <div class="header__left">
    <p class="header__title">
      <a routerLink="/about" class="header__link">
        OKR
      </a>
    </p>
  </div>

  <span class="header__spacer"></span>

  <div class="header__right">
    <div class="header__search">
      <input type="text" autocomplete="off" placeholder="検索" />
      <mat-icon>search</mat-icon>
    </div>

    <ng-container
      *ngIf="authService.user$ | async as user"
      class="header__mypage"
    >
      <button
        mat-mini-fab
        [matMenuTriggerFor]="userMenu"
        [style.background-image]="'url(' + user?.avatarURL + ')'"
        class="header__icon"
      ></button>
      <mat-menu #userMenu="matMenu">
        <button mat-menu-item *ngIf="!(user$ | async)" (click)="login()">
          <mat-icon>login</mat-icon>
          <span>ログイン</span>
        </button>
        <button mat-menu-item *ngIf="user$ | async" (click)="logout()">
          <mat-icon>logout</mat-icon>
          <span>ログアウト</span>
        </button>
        <button mat-menu-item>
          <mat-icon>support_argent</mat-icon>
          <span>開発者を応援する</span>
        </button>
      </mat-menu>
    </ng-container>
  </div>
</mat-toolbar>
