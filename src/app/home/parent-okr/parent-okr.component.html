<div class="parentOkr">
  <div class="parentOkr__title">
    <div *ngFor="let parentOkr of parentOkrs" class="parentOkr__objectives">
      <span>目標(Objective)</span>
      <form
        [formGroup]="objectives[parentOkr.parentOkrId]"
        class="parentOkr__form-container"
      >
        <ng-container
          *ngFor="
            let objective of objectives[parentOkr.parentOkrId].controls;
            index as objectiveArrayIndex
          "
        >
          <div
            [formGroupName]="objectiveArrayIndex"
            class="parentOkr__objective-wrapper"
          >
            <input
              class="parentOkr__objective"
              type="text"
              formControlName="objective"
              autocomplete="off"
              placeholder="例) 幸せになる"
            />
            <mat-error *ngIf="objective.get('objective').hasError('required')">
              必須入力です。
            </mat-error>
            <mat-error *ngIf="objective.get('objective').hasError('maxlength')">
              最大文字数は20文字です。
            </mat-error>
          </div>
        </ng-container>
      </form>
    </div>
  </div>
  <div
    *ngFor="let parentOkrKeyResult of parentOkrKeyResults"
    class="parentOkr__keyResults"
  >
    <span class="parentOkr__content">
      目標達成のための成果指標(Key Result)
    </span>
    <form
      class="parentOkr__keyResult-container"
      [formGroup]="keyResults[parentOkrKeyResult.parentOkrKeyResultId]"
    >
      <ng-container
        *ngFor="
          let KeyResult of keyResults[parentOkrKeyResult.parentOkrKeyResultId]
            .controls;
          index as KeyResultArrayIndex
        "
      >
        <div [formGroupName]="KeyResultArrayIndex">
          <input
            class="parentOkr__keyResult"
            type="text"
            formControlName="key"
            autocomplete="off"
            placeholder="例) 3年後に技術者として売れている"
          />
          <mat-error *ngIf="KeyResult.get('key').hasError('required')">
            必須入力です。
          </mat-error>
          <mat-error *ngIf="KeyResult.get('key').hasError('maxlength')">
            最大文字数は20文字です。
          </mat-error>
        </div>
      </ng-container>
    </form>
  </div>
</div>
