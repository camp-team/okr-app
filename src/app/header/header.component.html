<mat-toolbar class="header">
  <mat-toolbar-row class="header__inner">
    <div class="header__left">
      <div class="header__logo">
        <a routerLink="/about" class="header__link">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="60"
            height="24.121"
            viewBox="0 0 65.731 24.121"
          >
            <path
              id="パス_1"
              data-name="パス 1"
              d="M11.514.894A11.29,11.29,0,0,1,4.131-1.6,8.509,8.509,0,0,1,.879-8.5,14.65,14.65,0,0,1,4-17.578a10.655,10.655,0,0,1,8.818-4.614q5.112,0,7.661,2.344T23.027-12.8a15.222,15.222,0,0,1-2.871,9.023A10.146,10.146,0,0,1,11.514.894Zm1.3-19.116a6.808,6.808,0,0,0-5.6,3.164A10.8,10.8,0,0,0,5.039-8.5a4.844,4.844,0,0,0,1.89,3.955,7.07,7.07,0,0,0,4.585,1.465A6.344,6.344,0,0,0,16.89-6.24,11.334,11.334,0,0,0,18.867-12.8q0-3.076-1.377-4.277Q16.172-18.223,12.817-18.223Zm19.8,11.733L32.6-.322A2.075,2.075,0,0,1,32.235.864a1.7,1.7,0,0,1-1.494.747A2.1,2.1,0,0,1,28.925.674a2.683,2.683,0,0,1-.513-1.567q0-3.252.205-9.771t.205-9.771a1.918,1.918,0,0,1,.586-1.406,1.987,1.987,0,0,1,1.465-.586,1.963,1.963,0,0,1,1.458.586,1.93,1.93,0,0,1,.579,1.406q0,1.318-.132,3.56-.161,2.607-.19,3.56,1.025-.967,7.6-8.145a2.056,2.056,0,0,1,1.553-.732,2.059,2.059,0,0,1,1.458.586,1.879,1.879,0,0,1,.623,1.421q0,.908-3.486,4.717-2.578,2.8-5.435,5.522,1.6,1.509,3.208,3.018a42.99,42.99,0,0,0,3.369,2.842,5.709,5.709,0,0,0,1.611.82,1.928,1.928,0,0,1,1.567,1.919,2.144,2.144,0,0,1-.4,1.216,1.728,1.728,0,0,1-1.509.791q-2.095,0-5.435-2.739Q36.322-2.9,32.616-6.489ZM64.53.176a2.083,2.083,0,0,1-1.45-.615,24.64,24.64,0,0,0-9.756-5.771q.161,4.263.161,4.731A1.911,1.911,0,0,1,52.9-.066a2,2,0,0,1-1.465.579,2,2,0,0,1-1.465-.579,1.911,1.911,0,0,1-.586-1.414q0-1.1.029-3.289t.029-3.289l.029-11.821a2.848,2.848,0,0,1,.571-1.729,2.2,2.2,0,0,1,2.065-.894q3.56.264,3.647.278a10.415,10.415,0,0,1,3.486.981Q65.5-18.091,65.5-13.433a4.948,4.948,0,0,1-1.311,3.391,9.977,9.977,0,0,1-3.933,2.483A21.809,21.809,0,0,1,66.1-3.135a1.932,1.932,0,0,1,.513,1.3,1.9,1.9,0,0,1-.615,1.414A2.038,2.038,0,0,1,64.53.176ZM55.14-18.252q-.117-.015-1.714-.117v7.778q.366.015.645.015a12.078,12.078,0,0,0,5.317-.894,5.315,5.315,0,0,0,1.37-1.011q.623-.63.623-.952,0-1.641-2.08-3.164A8.459,8.459,0,0,0,55.14-18.252Z"
              transform="translate(-0.879 22.51)"
            />
          </svg>
        </a>
      </div>
    </div>
    <ng-container
      *ngIf="this.authService.user$ | async as user; else notUser"
      class="header__mypage"
    >
      <button
        mat-mini-fab
        [matMenuTriggerFor]="userMenu"
        [style.background-image]="'url(' + user?.avatarURL + ')'"
        class="header__icon"
      ></button>
      <mat-menu #userMenu="matMenu">
        <button mat-menu-item routerLink="/manage/edit">
          <mat-icon>edit</mat-icon>
          <span>1番目のOKRの入力</span>
        </button>
        <button mat-menu-item routerLink="/manage/okr-edit">
          <mat-icon>edit</mat-icon>
          <span>進行中のOKRの入力</span>
        </button>
        <button
          mat-menu-item
          *ngIf="!(this.authService.user$ | async)"
          (click)="login()"
        >
          <mat-icon>login</mat-icon>
          <span>ログイン</span>
        </button>
        <button mat-menu-item routerLink="/settings">
          <mat-icon>settings</mat-icon>
          <span>設定</span>
        </button>
        <button
          mat-menu-item
          *ngIf="this.authService.user$ | async"
          (click)="logout()"
        >
          <mat-icon>logout</mat-icon>
          <span>ログアウト</span>
        </button>
      </mat-menu>
    </ng-container>
    <ng-template #notUser>
      <div class="header__right">
        <a
          class="header__login"
          mat-raised-button
          color="primary"
          (click)="login()"
          matTooltip="Googleアカウントでログインする"
        >
          Googleアカウントでログイン
        </a>
      </div>
    </ng-template>
  </mat-toolbar-row>
</mat-toolbar>
