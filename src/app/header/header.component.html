<mat-toolbar class="header">
  <mat-toolbar-row class="header__inner">
    <div class="header__left">
      <div class="header__logo">
        <a routerLink="/about" class="header__link">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="80"
            height="42"
            viewBox="0 0 68 42"
          >
            <text
              id="OKR"
              transform="translate(0 33)"
              font-size="30"
              font-family="ComicSansMS-Bold, Comic Sans MS"
              font-weight="700"
              letter-spacing="0.096em"
            >
              <tspan x="0" y="0">OKR</tspan>
            </text>
          </svg>
        </a>
      </div>
    </div>
    <ng-container
      *ngIf="this.authService.user$ | async as user; else notUser"
      class="header__mypage"
    >
      <button
        mat-mini-fab
        [matMenuTriggerFor]="userMenu"
        [style.background-image]="'url(' + user?.avatarURL + ')'"
        class="header__icon"
      ></button>
      <mat-menu #userMenu="matMenu">
        <button mat-menu-item routerLink="/manage/edit">
          <mat-icon>edit</mat-icon>
          <span>1番目のOKRの入力</span>
        </button>
        <button mat-menu-item routerLink="/manage/okr-edit">
          <mat-icon>edit</mat-icon>
          <span>2番目のOKRの入力</span>
        </button>
        <button
          mat-menu-item
          *ngIf="!(this.authService.user$ | async)"
          (click)="login()"
        >
          <mat-icon>login</mat-icon>
          <span>ログイン</span>
        </button>
        <button mat-menu-item routerLink="/settings">
          <mat-icon>settings</mat-icon>
          <span>設定</span>
        </button>
        <button
          mat-menu-item
          *ngIf="this.authService.user$ | async"
          (click)="logout()"
        >
          <mat-icon>logout</mat-icon>
          <span>ログアウト</span>
        </button>
      </mat-menu>
    </ng-container>
    <ng-template #notUser>
      <div class="header__right">
        <a
          class="header__login"
          mat-raised-button
          color="primary"
          (click)="login()"
          matTooltip="Googleアカウントでログインする"
        >
          Googleアカウントでログイン
        </a>
      </div>
    </ng-template>
  </mat-toolbar-row>
</mat-toolbar>
